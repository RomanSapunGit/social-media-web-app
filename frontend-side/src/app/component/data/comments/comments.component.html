<div class="comments-container" *ngIf="commentVisibility" >
  <div class="comments-border" *ngFor="let comment of (postComments | async)?.entities">
    <div class="items-info">
      <app-image [image]="comment.userImage"></app-image>
      <span class="username">{{ comment.username }}</span>
      <span class="creation-time">{{ comment.creationTime | date: 'MMM d, yyyy h:mm a' }}</span>
    </div>
    <p>{{ comment.title }}</p>
    <p class="description">{{ comment.description }}</p>
    <div>
      <button *ngIf="currentUser === comment.username" class="button"
              (click)="updateComment(comment.identifier, comment.title, comment.description)">
        {{'EDIT_COMMENT' | translate}}
      </button>
    </div>
  </div>

  <div>
    <button class="button" (click)="createComment(postIdentifier)">
      {{'CREATE_COMMENT' | translate}}
    </button>
  </div>

<ng-container *ngIf="isCommentPaginationVisible$ | async" class="pagination">
  <p>
     {{('PAGE' | translate) (currentCommentPage[postIdentifier] !== null && currentCommentPage[postIdentifier] !== undefined && currentCommentPage[postIdentifier] !== 0) ? currentCommentPage[postIdentifier] + 1 : 1 }}
     {{('OF' | translate) (postComments | async)?.totalPages }}</p>
  <button (click)="previousCommentPage(postIdentifier)"
          [disabled]="(currentCommentPage[postIdentifier] !== null && currentCommentPage[postIdentifier] !== undefined && currentCommentPage[postIdentifier] !== 0) && currentCommentPage[postIdentifier] + 1 === 1">
    {{'PREVIOUS' | translate}}
  </button>
  <button (click)="nextCommentPage(postIdentifier)"
          [disabled]="(currentCommentPage[postIdentifier] !== null && currentCommentPage[postIdentifier] !== undefined) &&
      currentCommentPage[postIdentifier] + 1 === ((postComments | async)?.totalPages || 0)">{{'NEXT' | translate}}
  </button>
</ng-container>
</div>
